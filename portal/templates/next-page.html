{% load static %}
<!DOCTYPE html>
<html>

<head>
  <title>KGCAR | View Record</title>
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
  <script>

    window.onload = function() {
    const dropdown = document.getElementById("version-select");
    dropdown.addEventListener('change',getVersion);
    }
    function getVersion(){
      var version = document.getElementById("version-select");
      window.location.href = "{{admission_no}}?version="+version.value;

    }
  </script>
</head>

<body>
  <header class="header">
    <img src="{% static 'image/logo.png' %}" alt="Logo" class="logo">
    <h2>ADMINISTRATIVE OFFICE</h2>
    <h2>ACKNOWLEDGEMENT RECEIPT-PARENT COPY-REGULAR ADMISSION</h2>
    <div class="search-bar">

      <a href="{% url 'add' %}"><input type="button" class="nav-btn" id="new-button" value="NEW"></a>
      <div class="dropdown2" id="version" class="search-version">
        <select id="version-select" name="dept" required>
          {% for version in versions%}
          {% if forloop.counter0 == cur_ver%}
          <option value="{{forloop.counter0}}" selected>ver - {{version}}</option>
          {% else %}
          <option value="{{forloop.counter0}}">ver - {{version}}</option>
          {% endif%}
          {% endfor %}
        </select>
        <span class="dropdown-icon"></span>
        <style>
          .dropdown2 {
            position: relative;
            display: inline-block;
          }

          .dropdown2 select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            outline: none;
            border: 1px solid #ccc;
            padding: 8px 40px 8px 12px;
            font-size: 16px;
            border-radius: 4px;
            background-color: #fff;
            cursor: pointer;
            width: 200px;
          }

          .dropdown2 select:hover,
          .dropdown2 select:focus {
            border-color: #555;
          }

          .dropdown2-icon {
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            pointer-events: none;
          }

          /* Custom styles for the dropdown arrow icon */
          .dropdown2-icon::after {
            content: '\25BC';
            font-size: 12px;
            color: #555;
          }
        </style>
      </div>
      <a href="{% url 'logout' %}"href="{% url 'logout' %}"><input type="button" class="nav-btn" id="logout-button" value="LOGOUT"></a>

     
    </div>
  </header>
  <div class="info">
    <div class="form-row">
      <div class="form-column">
        <label for="name_stu">NAME OF THE STUDENT</label>
        <input type="text" id="name_stu" name="name_stu" value="{{student.name}}" disabled>
      </div><br>
      <div class="form-column">
        <label for="receipt">ADMISSION NO</label>
        <input type="text" id="phone" name="receipt" value="{{admission_no}}" disabled>
      </div>
      <div class="form-column">
        <label for="name_prnt">NAME OF THE PARENT</label>
        <input type="text" id="name_prnt" name="name_prnt" value="{{student.parent_name}}" disabled>
      </div>
      <div class="form-column">
        <label for="dept">DEPARMENT</label>
        <div class="dropdown">
          <select id="dept" name="dept" disabled>
            <option disabled selected>{{student.department}}</option>
          </select>
          <span class="dropdown-icon"></span>
          <style>
            .dropdown {
              position: relative;
              display: inline-block;
            }

            .dropdown select {
              -webkit-appearance: none;
              -moz-appearance: none;
              appearance: none;
              outline: none;
              border: 1px solid #ccc;
              padding: 8px 40px 8px 12px;
              font-size: 16px;
              border-radius: 4px;
              background-color: #fff;
              cursor: pointer;
              width: 200px;
            }

            .dropdown select:hover,
            .dropdown select:focus {
              border-color: #555;
            }

            .dropdown-icon {
              position: absolute;
              top: 50%;
              right: 12px;
              transform: translateY(-50%);
              pointer-events: none;
            }

            /* Custom styles for the dropdown arrow icon */
            .dropdown-icon::after {
              content: '\25BC';
              font-size: 12px;
              color: #555;
            }
          </style>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-column">
        <label for="contact1">CONTACT INFO:<br>STUDENT NO</label>
        <input type="text" id="contact1" name="contact1" value="{{student.student_number}}" disabled>
      </div>
      <div class="form-column">
        <br><label for="contact2">PARENT NO</label>
        <input type="text" id="contact2" name="contact2" value="{{student.parent_number}}" disabled>
      </div>
      <div class="form-column">
        <br><label for="email">EMAIL ID</label>
        <input type="email" class="email" id="email" name="email" value="{{student.email}}" disabled>
      </div>
      <div class="form-column">
        <label for="email">QUOTA</label>
        <div class="dropdown">
          <select disabled id="quota" name="quota" required>
            {% if edit_context.student.quota %}
            <option selected value="govt">GOVERNMENT</option>
            <option value="mgnt">MANAGEMENT</option>
            {% else %}
            <option value="govt">GOVERNMENT</option>
            <option selected value="mgnt">MANAGEMENT</option>
            {% endif %}
          </select>
          <span class="dropdown-icon"></span>
        </div>
      </div>
    </div>
  </div>

  </div>
  <div class="doc_info">
    <div class="user-info">
      <div class="form-row">
        <div class="form-column">
          <label for="User">CREATED BY:</label>
          <input disabled readonly class="txt-display" type="text" name="User" placeholder="Username" value="{{ user }}">
        </div>
        <div class="form-column">
          <label for="Date">CREATED ON:</label>
          <input disabled readonly class="txt-display" type="text" name="Date" placeholder="Username" value="{{ date }}">
        </div>
      </div>
    </div>
    <table>
      <tr>
        <th>S.no</th>
        <th>Documents</th>
        <th>Date</th>
        <th>Original</th>
        <th>Photocopy</th>
        <th>Quantity</th>

      </tr>
      <tbody id="table-body">
        {% for record in records %}
        <tr>
          <td>
            {{forloop.counter}}
          </td>
          <td>
            {{record.document.name}}
          </td>
          <td>
            {{record.date}}
          </td>
          <td>
            {% if record.original %}
            <input type="checkbox" checked="true" class="cell5" disabled>
            {% else %}
            <input type="checkbox" class="cell5" disabled>
            {% endif %}
          </td>
          <td>
            {% if record.photocopy %}
            <input type="checkbox" checked="true" class="cell5" disabled>
            {% else %}
            <input type="checkbox" class="cell5" disabled>
            {% endif %}
          </td>
          <td>
            <input type="number" value="{{record.count}}" class="cell3" disabled>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="button-container">
      <a class="edit-button" href="/edit/{{admission_no}}">Edit</a>
      <a class="download-button" href="/pdf/{{admission_no}}?version={{cur_ver}}">Download</a>
    </div>
   
  
    <style>
      .button-container {
        display: flex;
        justify-content: space-between;
        margin: 20px;
      }
  
      .edit-button,
      .download-button {
        border: none;
        margin: 40px;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 4px;
        cursor: pointer;
        margin-bottom: 10px;
        width: 100%;
        text-decoration: none;
      }
  
      .edit-button {
        background-color: #4CAF50;
        color: white;
      }
  
      .download-button {
        background-color: #008CBA;
        color: white;
      }
  
      @media (min-width: 768px) {
        .button-container {
          flex-direction: row;
          text-align: center;
        }
  
        .edit-button,
        .download-button {
          width: auto;
          margin-bottom: 0;
        }
      }
  
      @media (max-width: 480px) {
        .edit-button,
        .download-button {
          width: 60px;
          margin-right: 5px;
        }
        
        
      }
     
    </style>
  </div>
  <footer class="footer">
    Â© IPS Tech Team - 2023
  </footer>
</body>

</html>